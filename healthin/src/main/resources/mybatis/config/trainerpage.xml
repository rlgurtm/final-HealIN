<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="trainerpage">
 	<select id="trainerPtList"  resultType="memberVO" >
 		select*from matching m,health_member h 
		where m.user_id=h.id and trainer_id=#{value}
 	</select>
 	<select id="getFollowerTotalCount" resultType="int">
 	select count(*) 
	from following 
	where apply_result='Y' and accept_result='N' and trainer_id=#{value}
 	</select>
 	<select id="getFollowerList" parameterType="map" resultType="memberVO">
 	select a.* from 
       (select row_number() over(order by nickname desc) rnum,
       f.user_id as id,m.nickname
       from health_member m,following f
       where f.trainer_id=#{ID} and f.user_id=m.id
       and apply_result='Y' and accept_result='N') a 
       where rnum between #{STARTROWNUM} and #{ENDROWNUM}
 	</select>
</mapper>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
















