<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<insert id="registerAll">
		insert into health_member
		values(#{id},#{password},#{nickname},#{name},#{birthdate},#{gender},
		#{address},#{tel},#{email},#{istrainer},'N')
	</insert>
	<insert id="registerStudent">
		insert into health_user values(#{id})
	</insert>
	<insert id="registerTrainer">
		insert into trainer
		values(#{id},#{career},0,#{location},#{trainerPhoto})
	</insert>
	<select id="login" resultType="memberVO" parameterType="map">
		select
		id,password,nickname,name,birthdate,gender,address,tel,
		e_mail as
		email,is_trainer as istrainer,withdrawal
		from health_member where
		id=#{id} and password=#{password}
	</select>
	<select id="trainerInfo" resultType="trainerVO">
		select trainer_id,career,location,trainer_photo as trainerPhoto
		from trainer
		where trainer_id=#{value}
	</select>
	<update id="modify" parameterType="memberVO">
		update health_member set
		password= #{password},
		nickname= #{nickname},
		name= #{name},
		birthdate=#{birthdate},
		gender=#{gender},
		address=#{address},
		tel=#{tel},
		e_mail=#{email},
		is_trainer=#{istrainer},
		withdrawal=#{withdrawal}
		where
		id=#{id}
	</update>
	<update id="modifyTrainer">
		update trainer set
		career=#{career},
		location=#{location},
		trainer_photo=#{trainerPhoto}
		where
		trainer_id=#{id}
	</update>
</mapper>

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
















